## Step 6 实验报告

2018011359 	计84 乐阳

### 实验过程

Step 6要求实现`if`和条件表达式。条件表达式引入了一种三元运算符，需要放在最高的优先级进行考虑。在具体实现时条件表达式和`if`几乎没有区别。

一般的`if`语句的组成部分为：

```
if (cond_expr){
	then_stmt;
}
else{
	else_stmt;
}
```

翻译为汇编为

```assembly
    # cond_expr save to t0
    beqz	t0, .else
    # then_stmt
    j		.afterCond
.else:
	# else_stmt
.afterCond:
	# ...
```

具体实现于`visitIfStmt`函数中。此处还要注意`if`语句可以嵌套，因此用标号来区分不同层的`if`语句。例如`.else1, .else2...`和`.afterCond1, .afterCond2...`等等。

### 思考题

1. Rust 和 Go 语言中的 if-else 语法与 C 语言中略有不同，它们都要求两个分支必须用大括号包裹起来，而且条件表达式不需要用括号包裹起来。请问相比 C 的语法，这两种语言的语法有什么优点？

   答：用括号包括的分支语句块可读性更强，反观C语言在分支不加大括号时可能因为缩进而产生迷惑。条件表达式不加括号提醒编程人员不要在条件表达式中写赋值语句，反观C语言在`if`后的括号里写赋值语句是可以通过编译的。


